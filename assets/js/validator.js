function Validator(e){this.formobj=document.getElementById(e),this.formobj?(this.formobj.onsubmit?(this.formobj.old_onsubmit=this.formobj.onsubmit,this.formobj.onsubmit=null):this.formobj.old_onsubmit=null,this.formobj._sfm_form_name=e,this.formobj.onsubmit=form_submit_handler,this.submit=form_submit_handler,this.addValidation=add_validation,this.setAddnlValidationFunction=set_addnl_vfunction,this.clearAllValidations=clear_all_validations,this.disable_validations=!1,document.error_disp_handler=new sfm_ErrorDisplayHandler,this.EnableOnPageErrorDisplay=validator_enable_OPED,this.EnableOnPageErrorDisplaySingleBox=validator_enable_OPED_SB,this.show_errors_together=!0,this.EnableMsgsTogether=sfm_enable_show_msgs_together,document.set_focus_onerror=!0,this.EnableFocusOnError=sfm_validator_enable_focus):alert("Error: couldnot get Form object "+e)}function sfm_validator_enable_focus(e){document.set_focus_onerror=e}function set_addnl_vfunction(e){this.formobj.addnlvalidation=e}function sfm_set_focus(e){document.set_focus_onerror&&e.focus()}function sfm_enable_show_msgs_together(){this.show_errors_together=!0,this.formobj.show_errors_together=!0}function clear_all_validations(){for(var e=0;e<this.formobj.elements.length;e++)this.formobj.elements[e].validationset=null}function form_submit_handler(frm_obj_id){newThis="[object Event]"==frm_obj_id||null==frm_obj_id?this:document.getElementById(frm_obj_id);var bRet=!0;document.error_disp_handler.clear_msgs();for(var itr=0;itr<newThis.elements.length&&(newThis.elements[itr].validationset&&!newThis.elements[itr].validationset.validate()&&(bRet=!1),bRet||newThis.show_errors_together);itr++);return newThis.addnlvalidation&&(str=" var ret = "+newThis.addnlvalidation+"()",eval(str),ret||(bRet=!1)),!!bRet||(document.error_disp_handler.FinalShowMsg(),!1)}function add_validation(e,t,n){var r=null;if(3<arguments.length&&(r=arguments[3]),this.formobj){var a=this.formobj[e];a.length&&isNaN(a.selectedIndex)&&(a=a[0]),a?(a.validationset||(a.validationset=new ValidationSet(a,this.show_errors_together)),a.validationset.add(t,n,r),a.validatorobj=this,a.onkeypress=item_keypress):alert("Error: Couldnot get the input object named: "+e)}else alert("Error: The form object is not set properly")}function item_keypress(){switch(keyChar=String.fromCharCode(event.keyCode),this.validationset.vSet[0].desc){case"email":return rExp=/[A-Za-z0-9\@\.\-\_]/,rExp.test(keyChar);case"alnum":case"alphanumeric":return rExp=/[A-Za-z0-9]/,rExp.test(keyChar);case"alnum_s":case"alphanumeric_space":return rExp=/[A-Za-z0-9\\s]/,rExp.test(keyChar);case"num":case"numeric":return rExp=/[0-9\ ]/,rExp.test(keyChar);case"dec":case"decimal":return rExp=/[0-9\.]/,rExp.test(keyChar);case"alphabetic":case"alpha":return rExp=/[a-zA-Z\s\ç\Ç\ö\Ö\ş\Ş\ı\İ\ğ\Ğ\ü\Ü]/,rExp.test(keyChar);case"alphabetic_space":case"alpha_s":return rExp=/[A-Za-z\\s]/,rExp.test(keyChar)}}function validator_enable_OPED(){document.error_disp_handler.EnableOnPageDisplay(!1)}function validator_enable_OPED_SB(){document.error_disp_handler.EnableOnPageDisplay(!0)}function sfm_ErrorDisplayHandler(){this.msgdisplay=new AlertMsgDisplayer,this.EnableOnPageDisplay=edh_EnableOnPageDisplay,this.ShowMsg=edh_ShowMsg,this.FinalShowMsg=edh_FinalShowMsg,this.all_msgs=new Array,this.clear_msgs=edh_clear_msgs}function edh_clear_msgs(){this.msgdisplay.clearmsg(this.all_msgs),this.all_msgs=new Array}function edh_FinalShowMsg(){this.msgdisplay.showmsg(this.all_msgs)}function edh_EnableOnPageDisplay(e){this.msgdisplay=1==e?new SingleBoxErrorDisplay:new DivMsgDisplayer}function edh_ShowMsg(e,t){var n=new Array;n.input_element=t,n.msg=e,this.all_msgs.push(n)}function AlertMsgDisplayer(){this.showmsg=alert_showmsg,this.clearmsg=alert_clearmsg}function alert_clearmsg(e){}function alert_showmsg(e){for(var t="",n=null,r=0;r<e.length;r++)null==n&&(n=e[r].input_element),t+=e[r].msg+"\n";bhaAlert(t),null!=n&&sfm_set_focus(n)}function sfm_show_error_msg(e,t){document.error_disp_handler.ShowMsg(e,t)}function SingleBoxErrorDisplay(){this.showmsg=sb_div_showmsg,this.clearmsg=sb_div_clearmsg}function sb_div_clearmsg(e){show_div_msg(form_error_div_name(e),"")}function sb_div_showmsg(e){for(var t="<ul>\n",n=0;n<e.length;n++)t+="<li>"+e[n].msg+"</li>\n";t+="</ul>",show_div_msg(form_error_div_name(e),t)}function form_error_div_name(e){var t=null;for(var n in e)if(t=e[n].input_element)break;var r="";return t&&(r=t.form._sfm_form_name+"_errorloc"),r}function DivMsgDisplayer(){this.showmsg=div_showmsg,this.clearmsg=div_clearmsg}function div_clearmsg(e){for(var t in e){show_div_msg(element_div_name(e[t].input_element),"")}}function element_div_name(e){var t=e.form._sfm_form_name+"_"+e.name+"_errorloc";return t=t.replace(/[\[\]]/gi,"")}function div_showmsg(e){var t=null;for(var n in e){null==t&&(t=e[n].input_element),show_div_msg(element_div_name(e[n].input_element),e[n].msg)}null!=t&&sfm_set_focus(t)}function show_div_msg(e,t){if(e.length<=0)return!1;if(document.layers){if(divlayer=document.layers[e],!divlayer)return;divlayer.document.open(),divlayer.document.write(t),divlayer.document.close()}else if(document.all){if(divlayer=document.all[e],!divlayer)return;divlayer.innerHTML=t}else if(document.getElementById){if(divlayer=document.getElementById(e),!divlayer)return;divlayer.innerHTML=t}divlayer.style.visibility="visible"}function ValidationDesc(e,t,n,r){this.desc=t,this.error=n,this.itemobj=e,this.condition=r,this.validate=vdesc_validate}function vdesc_validate(){return null!=this.condition&&!eval(this.condition)||(!!validateInput(this.desc,this.itemobj,this.error)||(this.itemobj.validatorobj.disable_validations=!0,sfm_set_focus(this.itemobj),!1))}function ValidationSet(e,t){this.vSet=new Array,this.add=add_validationdesc,this.validate=vset_validate,this.itemobj=e,this.msgs_together=t}function add_validationdesc(e,t,n){this.vSet[this.vSet.length]=new ValidationDesc(this.itemobj,e,t,n)}function vset_validate(){for(var e=!0,t=0;t<this.vSet.length&&((e=e&&this.vSet[t].validate())||this.msgs_together);t++);return e}function validateEmail(e){var t=e.match("^(.+)@(.+)$");if(null==t)return!1;if(null!=t[1]){if(null==t[1].match(/^\"?[\w-_\.]*\"?$/))return!1}if(null==t[2])return!1;if(null==t[2].match(/^[\w-\.]*\.[A-Za-z]{2,4}$/)){if(null==t[2].match(/^\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\]$/))return!1}return!0}function IsCheckSelected(e,t){var n=!1,r=e.form.elements[e.name];if(r.length){for(var a=-1,i=0;i<r.length;i++)if(r[i].value==t){a=i;break}0<=a&&"1"==r[a].checked&&(n=!0)}else"1"==e.checked&&(n=!0);return n}function TestDontSelectChk(e,t,n){var r;return 0==(r=!IsCheckSelected(e,t))&&(n&&0!=n.length||(n="Can't Proceed as you selected "+e.name),sfm_show_error_msg(n,e)),r}function TestShouldSelectChk(e,t,n){var r;return 0==(r=!!IsCheckSelected(e,t))&&(n&&0!=n.length||(n="You should select "+e.name),sfm_show_error_msg(n,e)),r}function TestRequiredInput(objValue,strError){var ret=!0,val=objValue.value;return val=val.replace(/^\s+|\s+$/g,""),0==eval(val.length)&&(strError&&0!=strError.length||(strError=objValue.name+" : Required Field"),sfm_show_error_msg(strError,objValue),ret=!1),ret}function TestRequiredTelephone(objValue,strError){var ret=!0,val=objValue.value,bosmu=val.indexOf("_");return val=val.replace(/^\s+|\s+$/g,""),0!=eval(val.length)&&-1==bosmu||(strError&&0!=strError.length||(strError=objValue.name+" : Required Field"),sfm_show_error_msg(strError,objValue),$("tn").focus(),ret=!1),ret}function TestCaptcha(e){var t=!0;return response=grecaptcha.getResponse(),0===response.length&&(e&&0!=e.length||(e=" : Required Field"),sfm_show_error_msg(e,"objValue"),t=!1),t}function TestMaxLen(objValue,strMaxLen,strError){var ret=!0;return eval(objValue.value.length)>eval(strMaxLen)&&(strError&&0!=strError.length||(strError=objValue.name+" : "+strMaxLen+" characters maximum "),sfm_show_error_msg(strError,objValue),ret=!1),ret}function TestMinLen(objValue,strMinLen,strError){var ret=!0;return eval(objValue.value.length)<eval(strMinLen)&&(strError&&0!=strError.length||(strError=objValue.name+" : "+strMinLen+" characters minimum  "),sfm_show_error_msg(strError,objValue),ret=!1),ret}function TestInputType(e,t,n,r){var a=!0,i=e.value.search(t);return 0<e.value.length&&0<=i&&(n&&0!=n.length||(n=r),sfm_show_error_msg(n,e),a=!1),a}function TestEmail(e,t){var n=!0;return 0<e.value.length&&!validateEmail(e.value)&&(t&&0!=t.length||(t=e.name+": Enter a valid Email address "),sfm_show_error_msg(t,e),n=!1),n}function TestLessThan(objValue,strLessThan,strError){var ret=!0;return isNaN(objValue.value)?(sfm_show_error_msg(objValue.name+": Should be a number ",objValue),ret=!1):eval(objValue.value)>=eval(strLessThan)&&(strError&&0!=strError.length||(strError=objValue.name+" : value should be less than "+strLessThan),sfm_show_error_msg(strError,objValue),ret=!1),ret}function TestGreaterThan(objValue,strGreaterThan,strError){var ret=!0;return isNaN(objValue.value)?(sfm_show_error_msg(objValue.name+": Should be a number ",objValue),ret=!1):eval(objValue.value)<=eval(strGreaterThan)&&(strError&&0!=strError.length||(strError=objValue.name+" : value should be greater than "+strGreaterThan),sfm_show_error_msg(strError,objValue),ret=!1),ret}function TestRegExp(e,t,n){var r=!0;return 0<e.value.length&&!e.value.match(t)&&(n&&0!=n.length||(n=e.name+": Invalid characters found "),sfm_show_error_msg(n,e),r=!1),r}function TestDontSelect(objValue,dont_sel_index,strError){var ret=!0;return null==objValue.selectedIndex&&(sfm_show_error_msg("ERROR: dontselect command for non-select Item"),ret=!1),objValue.selectedIndex==eval(0)&&(strError&&0!=strError.length||(strError=objValue.name+": Please Select one option "),sfm_show_error_msg(strError,objValue),ret=!1),ret}function TestSelectOneRadio(e,t){for(var n=e.form.elements[e.name],r=!1,a=0;a<n.length;a++)if(n[a].checked){r=!0;break}return 0==r&&(t&&0!=t.length||(t="Please select one option from "+e.name),sfm_show_error_msg(t,e)),r}function validateInput(e,t,n){var r=!0,a=e.search("="),i="",u="";switch(0<=a?(i=e.substring(0,a),u=e.substr(a+1)):i=e,i){case"req":case"required":r=TestRequiredInput(t,n);break;case"tel":r=TestRequiredTelephone(t,n);break;case"maxlength":case"maxlen":r=TestMaxLen(t,u,n);break;case"minlength":case"minlen":r=TestMinLen(t,u,n);break;case"alnum":case"alphanumeric":r=TestInputType(t,"[^A-Za-z0-9]",n,t.name+": Only alpha-numeric characters allowed ");break;case"alnum_s":case"alphanumeric_space":r=TestInputType(t,"[^A-Za-z0-9\\s]",n,t.name+": Only alpha-numeric characters and space allowed ");break;case"num":case"numeric":r=TestInputType(t,"[^0-9]",n,t.name+": Only digits allowed ");break;case"dec":case"decimal":r=TestInputType(t,"[^0-9.]",n,t.name+": Only numbers allowed ");break;case"alphabetic":case"alpha":r=TestInputType(t,"[0-9]",n,t.name+": Only alphabetic characters allowed ");break;case"alphabetic_space":case"alpha_s":r=TestInputType(t,"[^A-Za-z\\s]",n,t.name+": Only alphabetic characters and space allowed ");break;case"email":r=TestEmail(t,n);break;case"lt":case"lessthan":r=TestLessThan(t,u,n);break;case"gt":case"greaterthan":r=TestGreaterThan(t,u,n);break;case"regexp":r=TestRegExp(t,u,n);break;case"dontselect":r=TestDontSelect(t,u,n);break;case"dontselectchk":r=TestDontSelectChk(t,u,n);break;case"shouldselchk":r=TestShouldSelectChk(t,u,n);break;case"selone_radio":r=TestSelectOneRadio(t,n)}return r}function VWZ_IsListItemSelected(e,t){for(var n=0;n<e.options.length;n++)if(1==e.options[n].selected&&e.options[n].value==t)return!0;return!1}function VWZ_IsChecked(e,t){if(e.length){for(var n=0;n<e.length;n++)if("1"==e[n].checked&&e[n].value==t)return!0}else if("1"==e.checked)return!0;return!1}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.IMask=t()}(this,function(){"use strict";function h(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}function s(e,t){return n.call(e,t)}function o(e){return t(h(e))}function l(e){return isNaN(e=+e)?0:(0<e?i:a)(e)}function c(e){return 0<e?u(l(e),9007199254740991):0}var n={}.hasOwnProperty,r={}.toString,t=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==(t=e,r.call(t).slice(8,-1))?e.split(""):Object(e);var t},a=Math.ceil,i=Math.floor,u=Math.min,f=Math.max,d=Math.min;function e(e,t){return e(t={exports:{}},t.exports),t.exports}function p(e){return"Symbol(".concat(void 0===e?"":e,")_",(++A+E).toString(36))}function v(e){if(!T(e))throw TypeError(e+" is not an object!");return e}function m(e){try{return!!e()}catch(e){return!0}}function _(r,a,e){if(function(){if("function"!=typeof r)throw TypeError(r+" is not a function!")}(),void 0===a)return r;switch(e){case 1:return function(e){return r.call(a,e)};case 2:return function(e,t){return r.call(a,e,t)};case 3:return function(e,t,n){return r.call(a,e,t,n)}}return function(){return r.apply(a,arguments)}}var g,k=e(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),y="__core-js_shared__",b=k[y]||(k[y]={}),A=0,E=Math.random(),C=b["keys"]||(b.keys={}),F=(!1,function(e,t,n){var r,a,i=o(e),u=c(i.length),s=(a=u,(r=l(r=n))<0?f(r+a,0):d(r,a));for(0;s<u;s++)if(s in i&&i[s]===t)return s||0;return-1}),S=C[g="IE_PROTO"]||(C[g]=p(g)),w="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),B=Object.keys||function(u){return function(e,t){var n,r=o(u),a=0,i=[];for(n in r)n!=S&&s(r,n)&&i.push(n);for(;t.length>a;)s(r,n=t[a++])&&(~F(i,n)||i.push(n));return i}(0,w)},D=e(function(e){var t=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=t)}),T=(D.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),x=!m(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),M=k.document,P=T(M)&&T(M.createElement),V=!x&&!m(function(){return 7!=Object.defineProperty(("div",P?M.createElement("div"):{}),"a",{get:function(){return 7}}).a}),j=Object.defineProperty,I={f:x?Object.defineProperty:function(e,t,n){if(v(e),t=function(e){if(!T(e))return e;var t,n;if("function"==typeof(t=e.toString)&&!T(n=t.call(e)))return n;if("function"==typeof(t=e.valueOf)&&!T(n=t.call(e)))return n;throw TypeError("Can't convert object to primitive value")}(t),v(n),V)try{return j(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},O=x?function(e,t,n){return I.f(e,t,{enumerable:!(1&1),configurable:!0,writable:!0,value:n})}:function(e,t,n){return e[t]=n,e},R=e(function(e){var i=p("src"),t="toString",n=Function[t],u=(""+n).split(t);D.inspectSource=function(e){return n.call(e)},(e.exports=function(e,t,n,r){var a="function"==typeof n;a&&(s(n,"name")||O(n,"name",t)),e[t]!==n&&(a&&(s(n,i)||O(n,i,e[t]?""+e[t]:u.join(String(t)))),e===k?e[t]=n:r?e[t]?e[t]=n:O(e,t,n):(delete e[t],O(e,t,n)))})(Function.prototype,t,function(){return"function"==typeof this&&this[i]||n.call(this)})}),L="prototype",z=function(e,t,n){var r,a,i,u,s=e&z.F,o=e&z.G,l=e&z.S,h=e&z.P,c=e&z.B,f=o?k:l?k[t]||(k[t]={}):(k[t]||{})[L],d=o?D:D[t]||(D[t]={}),p=d[L]||(d[L]={});for(r in o&&(n=t),n)i=((a=!s&&f&&void 0!==f[r])?f:n)[r],u=c&&a?_(i,k):h&&"function"==typeof i?_(Function.call,i):i,f&&R(f,r,i,e&z.U),d[r]!=i&&O(d,r,u),h&&p[r]!=i&&(p[r]=i)};k.core=D,z.F=1,z.G=2,z.S=4,z.P=8,z.B=16,z.W=32,z.U=64,z.R=128;var N,U,Z,H,$=z;N="keys",U=function(){return function(e){return B(Object(h(e)))}},Z=(D.Object||{})[N]||Object[N],(H={})[N]=U(),$($.S+$.F*m(function(){Z(1)}),"Object",H),D.Object.keys;function G(e){var t=String(h(this)),n="",r=l(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}$($.P,"String",{repeat:G}),D.String.repeat;function Y(e,t,n,r){var a=String(h(e)),i=a.length,u=void 0===n?" ":String(n),s=c(t);if(s<=i||""==u)return a;var o=s-i,l=G.call(u,Math.ceil(o/u.length));return l.length>o&&(l=l.slice(0,o)),r?l+a:a+l}var q=k.navigator,W=q&&q.userAgent||"";function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){ee(t,e,n[e])})}return t}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function se(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ae(e)););return e}function le(e,t,n){return(le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=oe(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function he(e,t,n,r){return(he="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var a,i=oe(e,t);if(i){if((a=Object.getOwnPropertyDescriptor(i,t)).set)return a.set.call(r,n),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(r,t)){if(!a.writable)return!1;a.value=n,Object.defineProperty(r,t,a)}else ee(r,t,n);return!0})(e,t,n,r)}function ce(e,t,n,r,a){if(!he(e,t,n,r||e)&&a)throw new Error("failed to set property");return n}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var u,s=e[Symbol.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}$($.P+$.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(W),"String",{padStart:function(e){return Y(this,e,1<arguments.length?arguments[1]:void 0,!0)}}),D.String.padStart,$($.P+$.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(W),"String",{padEnd:function(e){return Y(this,e,1<arguments.length?arguments[1]:void 0,!1)}}),D.String.padEnd;var de="NONE",pe="LEFT",ve="FORCE_LEFT",me="RIGHT",_e="FORCE_RIGHT";function ge(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}var ke="undefined"!=typeof window&&window||"undefined"!=typeof global&&global.global===global&&global||"undefined"!=typeof self&&self.self===self&&self||{},ye=(X(Fe,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?de:this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos?me:pe}}]),Fe),be=(X(Ce,[{key:"aggregate",value:function(e){return this.rawInserted+=e.rawInserted,this.skip=this.skip||e.skip,this.inserted+=e.inserted,this.tailShift+=e.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),Ce),Ae=(X(Ee,[{key:"updateOptions",value:function(e){this.withValueRefresh(this._update.bind(this,e))}},{key:"_update",value:function(e){te(this,e)}},{key:"reset",value:function(){this._value=""}},{key:"resolve",value:function(e){return this.reset(),this.append(e,{input:!0},{value:""}),this.doCommit(),this.value}},{key:"nearestInputPos",value:function(e,t){return e}},{key:"extractInput",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(e,t)}},{key:"extractTail",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length;return{value:this.extractInput(e,t)}}},{key:"_storeBeforeTailState",value:function(){this._beforeTailState=this.state}},{key:"_restoreBeforeTailState",value:function(){this.state=this._beforeTailState}},{key:"_resetBeforeTailState",value:function(){this._beforeTailState=null}},{key:"appendTail",value:function(e){return this.append(e?e.value:"",{tail:!0})}},{key:"_appendCharRaw",value:function(e){return this._value+=e,new be({inserted:e,rawInserted:e})}},{key:"_appendChar",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(!(e=this.doPrepare(e,t)))return new be;var r=this.state,a=this._appendCharRaw(e,t);if(a.inserted){var i=!1!==this.doValidate(t);if(i&&null!=n){this._storeBeforeTailState();var u=this.appendTail(n);(i=u.rawInserted===n.value)&&u.inserted&&this._restoreBeforeTailState()}i||(a.rawInserted=a.inserted="",this.state=r)}return a}},{key:"append",value:function(e,t,n){this.value.length;for(var r=new be,a=0;a<e.length;++a)r.aggregate(this._appendChar(e[a],t,n));return null!=n&&(this._storeBeforeTailState(),r.tailShift+=this.appendTail(n).tailShift),r}},{key:"remove",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,e)+this.value.slice(t),new be}},{key:"withValueRefresh",value:function(e){if(this._refreshing||!this.isInitialized)return e();this._refreshing=!0;var t=this.unmaskedValue,n=this.value,r=e();return this.resolve(n)!==n&&(this.unmaskedValue=t),delete this._refreshing,r}},{key:"doPrepare",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(e,this,t):e}},{key:"doValidate",value:function(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"splice",value:function(e,t,n,r){var a=e+t,i=this.extractTail(a),u=this.nearestInputPos(e,r);return new be({tailShift:u-e}).aggregate(this.remove(u)).aggregate(this.append(n,{input:!0},i))}},{key:"state",get:function(){return{_value:this.value}},set:function(e){this._value=e._value}},{key:"value",get:function(){return this._value},set:function(e){this.resolve(e)}},{key:"unmaskedValue",get:function(){return this.value},set:function(e){this.reset(),this.append(e,{},{value:""}),this.doCommit()}},{key:"typedValue",get:function(){return this.unmaskedValue},set:function(e){this.unmaskedValue=e}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(e){this.reset(),this.append(e,{raw:!0},{value:""}),this.doCommit()}},{key:"isComplete",get:function(){return!0}}]),Ee);function Ee(e){J(this,Ee),this._value="",this._update(e),this.isInitialized=!0}function Ce(e){J(this,Ce),te(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e)}function Fe(e,t,n,r){for(J(this,Fe),this.value=e,this.cursorPos=t,this.oldValue=n,this.oldSelection=r;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}function Se(e){if(null==e)throw new Error("mask property should be defined");return e instanceof RegExp?ke.IMask.MaskedRegExp:"string"==typeof(t=e)||t instanceof String?ke.IMask.MaskedPattern:e instanceof Date||e===Date?ke.IMask.MaskedDate:e instanceof Number||"number"==typeof e||e===Number?ke.IMask.MaskedNumber:Array.isArray(e)||e===Array?ke.IMask.MaskedDynamic:e.prototype instanceof ke.IMask.Masked?e:e instanceof Function?ke.IMask.MaskedFunction:(console.warn("Mask not found for mask",e),ke.IMask.Masked);var t}function we(e){var t=(e=ne({},e)).mask;return t instanceof ke.IMask.Masked?t:new(Se(t))(e)}var Be={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},De=(X(Ie,[{key:"reset",value:function(){this._isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===e&&1<=t?(this._isFilled=!1,this.masked.remove(e,t)):new be}},{key:"_appendChar",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this._isFilled)return new be;var n=this.masked.state,r=this.masked._appendChar(e,t);return r.inserted&&!1===this.doValidate(t)&&(r.inserted=r.rawInserted="",this.masked.state=n),r.inserted||this.isOptional||this.lazy||t.input||(r.inserted=this.placeholderChar),r.skip=!r.inserted&&!this.isOptional,this._isFilled=Boolean(r.inserted),r}},{key:"_appendPlaceholder",value:function(){var e=new be;return this._isFilled||this.isOptional||(this._isFilled=!0,e.inserted=this.placeholderChar),e}},{key:"extractTail",value:function(){var e;return(e=this.masked).extractTail.apply(e,arguments)}},{key:"appendTail",value:function(){var e;return(e=this.masked).appendTail.apply(e,arguments)}},{key:"extractInput",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length,n=2<arguments.length?arguments[2]:void 0;return this.masked.extractInput(e,t,n)}},{key:"nearestInputPos",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:de,n=this.value.length,r=Math.min(Math.max(e,0),n);switch(t){case pe:case ve:return this.isComplete?r:0;case me:case _e:return this.isComplete?r:n;case de:default:return r}}},{key:"doValidate",value:function(){var e,t;return(e=this.masked).doValidate.apply(e,arguments)&&(!this.parent||(t=this.parent).doValidate.apply(t,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"value",get:function(){return this.masked.value||(this._isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"state",get:function(){return{masked:this.masked.state,_isFilled:this._isFilled}},set:function(e){this.masked.state=e.masked,this._isFilled=e._isFilled}}]),Ie),Te=(X(je,[{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new be}},{key:"nearestInputPos",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:de,n=this._value.length;switch(t){case pe:case ve:return 0;case de:case me:case _e:default:return n}}},{key:"extractInput",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._value.length;return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).raw&&this._isRawInput&&this._value.slice(e,t)||""}},{key:"_appendChar",value:function(e,t){var n=new be;if(this._value)return n;var r=this.char===e[0]&&(this.isUnmasking||t.input||t.raw)&&!t.tail;return r&&(n.rawInserted=this.char),this._value=n.inserted=this.char,this._isRawInput=r&&(t.raw||t.input),n}},{key:"_appendPlaceholder",value:function(){var e=new be;return this._value||(this._value=e.inserted=this.char),e}},{key:"extractTail",value:function(){return 1<arguments.length&&void 0!==arguments[1]||this.value.length,{value:""}}},{key:"appendTail",value:function(e){return this._appendChar(e?e.value:"",{tail:!0})}},{key:"doCommit",value:function(){}},{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"isComplete",get:function(){return!0}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(e){te(this,e)}}]),je),xe=(X(Ve,[{key:"value",get:function(){return this.chunks.map(function(e){return e.value}).join("")}}]),Ve),Me=(re(Pe,Ae),X(Pe,[{key:"_update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.definitions=te({},this.definitions,e.definitions),le(ae(Pe.prototype),"_update",this).call(this,e),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var a=this,e=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var i=this.mask;if(i&&e)for(var t=!1,n=!1,u=0;u<i.length;++u)if(!this.blocks||"continue"!==function(){var t=i.slice(u),e=Object.keys(a.blocks).filter(function(e){return 0===t.indexOf(e)});e.sort(function(e,t){return t.length-e.length});var n=e[0];if(n){var r=we(ne({parent:a,lazy:a.lazy,placeholderChar:a.placeholderChar},a.blocks[n]));return r&&(a._blocks.push(r),a._maskedBlocks[n]||(a._maskedBlocks[n]=[]),a._maskedBlocks[n].push(a._blocks.length-1)),u+=n.length-1,"continue"}}()){var r=i[u],s=r in e;if(r!==Pe.STOP_CHAR)if("{"!==r&&"}"!==r)if("["!==r&&"]"!==r){if(r===Pe.ESCAPE_CHAR){if(!(r=i[++u]))break;s=!1}var o;o=s?new De({parent:this,lazy:this.lazy,placeholderChar:this.placeholderChar,mask:e[r],isOptional:n}):new Te({char:r,isUnmasking:t}),this._blocks.push(o)}else n=!n;else t=!t;else this._stops.push(this._blocks.length)}}},{key:"_storeBeforeTailState",value:function(){this._blocks.forEach(function(e){"function"==typeof e._storeBeforeTailState&&e._storeBeforeTailState()}),le(ae(Pe.prototype),"_storeBeforeTailState",this).call(this)}},{key:"_restoreBeforeTailState",value:function(){this._blocks.forEach(function(e){"function"==typeof e._restoreBeforeTailState&&e._restoreBeforeTailState()}),le(ae(Pe.prototype),"_restoreBeforeTailState",this).call(this)}},{key:"_resetBeforeTailState",value:function(){this._blocks.forEach(function(e){"function"==typeof e._resetBeforeTailState&&e._resetBeforeTailState()}),le(ae(Pe.prototype),"_resetBeforeTailState",this).call(this)}},{key:"reset",value:function(){le(ae(Pe.prototype),"reset",this).call(this),this._blocks.forEach(function(e){return e.reset()})}},{key:"doCommit",value:function(){this._blocks.forEach(function(e){return e.doCommit()}),le(ae(Pe.prototype),"doCommit",this).call(this)}},{key:"appendTail",value:function(e){var t=new be;return e&&t.aggregate(e instanceof xe?this._appendTailChunks(e.chunks):le(ae(Pe.prototype),"appendTail",this).call(this,e)),t.aggregate(this._appendPlaceholder())}},{key:"_appendCharRaw",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this._mapPosToBlock(this.value.length),r=new be;if(!n)return r;for(var a=n.index;;++a){var i=this._blocks[a];if(!i)break;var u=i._appendChar(e,t),s=u.skip;if(r.aggregate(u),s||u.rawInserted)break}return r}},{key:"_appendTailChunks",value:function(e){for(var t=new be,n=0;n<e.length&&!t.skip;++n){var r=e[n],a=this._mapPosToBlock(this.value.length),i=r instanceof xe&&null!=r.index&&(!a||a.index<=r.index)&&this._blocks[r.index];if(i){t.aggregate(this._appendPlaceholder(r.index));var u=i.appendTail(r);u.skip=!1,t.aggregate(u),this._value+=u.inserted;var s=r.value.slice(u.rawInserted.length);s&&t.aggregate(this.append(s,{tail:!0}))}else{var o=r,l=o.stop,h=o.value;null!=l&&0<=this._stops.indexOf(l)&&t.aggregate(this._appendPlaceholder(l)),t.aggregate(this.append(h,{tail:!0}))}}return t}},{key:"extractTail",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length;return new xe(this._extractTailChunks(e,t))}},{key:"extractInput",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return"";var i="";return this._forEachBlocksInRange(e,t,function(e,t,n,r){i+=e.extractInput(n,r,a)}),i}},{key:"_extractTailChunks",value:function(){var h=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length;if(e===t)return[];var c,f=[];return this._forEachBlocksInRange(e,t,function(e,t,n,r){for(var a,i=e.extractTail(n,r),u=0;u<h._stops.length;++u){var s=h._stops[u];if(!(s<=t))break;a=s}if(i instanceof xe){if(null==a){for(var o=i.chunks.length,l=0;l<i.chunks.length;++l)if(null!=i.chunks[l].stop){o=l;break}i.chunks.splice(0,o).filter(function(e){return e.value}).forEach(function(e){c?c.value+=e.value:c={value:e.value}})}i.chunks.length&&(c&&f.push(c),i.index=a,f.push(i),c=null)}else{if(null!=a)c&&f.push(c),i.stop=a;else if(c)return void(c.value+=i.value);c=i}}),c&&c.value&&f.push(c),f}},{key:"_appendPlaceholder",value:function(e){var r=this,a=new be;if(this.lazy&&null==e)return a;var t=this._mapPosToBlock(this.value.length);if(!t)return a;var n=t.index,i=null!=e?e:this._blocks.length;return this._blocks.slice(n,i).forEach(function(e){if("function"==typeof e._appendPlaceholder){var t=null!=e._blocks?[e._blocks.length]:[],n=e._appendPlaceholder.apply(e,t);r._value+=n.inserted,a.aggregate(n)}}),a}},{key:"_mapPosToBlock",value:function(e){for(var t="",n=0;n<this._blocks.length;++n){var r=this._blocks[n],a=t.length;if(e<=(t+=r.value).length)return{index:n,offset:e-a}}}},{key:"_blockStartPos",value:function(e){return this._blocks.slice(0,e).reduce(function(e,t){return e+t.value.length},0)}},{key:"_forEachBlocksInRange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length,n=2<arguments.length?arguments[2]:void 0,r=this._mapPosToBlock(e);if(r){var a=this._mapPosToBlock(t),i=a&&r.index===a.index,u=r.offset,s=a&&i?a.offset:void 0;if(n(this._blocks[r.index],r.index,u,s),a&&!i){for(var o=r.index+1;o<a.index;++o)n(this._blocks[o],o);n(this._blocks[a.index],a.index,0,a.offset)}}}},{key:"remove",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length,a=le(ae(Pe.prototype),"remove",this).call(this,e,t);return this._forEachBlocksInRange(e,t,function(e,t,n,r){a.aggregate(e.remove(n,r))}),a}},{key:"nearestInputPos",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:de,n=this._mapPosToBlock(e)||{index:0,offset:0},r=n.offset,a=n.index,i=this._blocks[a];if(!i)return e;var u=r;0!==u&&u<i.value.length&&(u=i.nearestInputPos(r,function(e){switch(e){case pe:return ve;case me:return _e;default:return e}}(t)));var s=u===i.value.length;if(0!==u&&!s)return this._blockStartPos(a)+u;var o=s?a+1:a;if(t===de){if(0<o){var l=o-1,h=this._blocks[l],c=h.nearestInputPos(0,de);if(!h.value.length||c!==h.value.length)return this._blockStartPos(o)}for(var f=o;f<this._blocks.length;++f){var d=this._blocks[f],p=d.nearestInputPos(0,de);if(p!==d.value.length)return this._blockStartPos(f)+p}return this.value.length}if(t===pe||t===ve){for(var v,m=o;m<this._blocks.length;++m)if(this._blocks[m].value){v=m;break}if(null!=v){var _=this._blocks[v],g=_.nearestInputPos(0,me);if(0===g&&_.unmaskedValue.length)return this._blockStartPos(v)+g}for(var k,y=-1,b=o-1;0<=b;--b){var A=this._blocks[b],E=A.nearestInputPos(A.value.length,ve);if(null!=k||A.value&&0===E||(k=b),0!==E){if(E!==A.value.length)return this._blockStartPos(b)+E;y=b;break}}if(t===pe)for(var C=y+1;C<=Math.min(o,this._blocks.length-1);++C){var F=this._blocks[C],S=F.nearestInputPos(0,de),w=this._blockStartPos(C)+S;if((!F.value.length&&w===this.value.length||S!==F.value.length)&&w<=e)return w}if(0<=y)return this._blockStartPos(y)+this._blocks[y].value.length;if(t===ve||this.lazy&&!this.extractInput()&&!function(e){if(!e)return!1;var t=e.value;return!t||e.nearestInputPos(0,de)!==t.length}(this._blocks[o]))return 0;if(null!=k)return this._blockStartPos(k);for(var B=o;B<this._blocks.length;++B){var D=this._blocks[B],T=D.nearestInputPos(0,de);if(!D.value.length||T!==D.value.length)return this._blockStartPos(B)+T}return 0}if(t===me||t===_e){for(var x,M,P=o;P<this._blocks.length;++P){var V=this._blocks[P],j=V.nearestInputPos(0,de);if(j!==V.value.length){M=this._blockStartPos(P)+j,x=P;break}}if(null!=x&&null!=M){for(var I=x;I<this._blocks.length;++I){var O=this._blocks[I],R=O.nearestInputPos(0,_e);if(R!==O.value.length)return this._blockStartPos(I)+R}return t===_e?this.value.length:M}for(var L=Math.min(o,this._blocks.length-1);0<=L;--L){var z=this._blocks[L],N=z.nearestInputPos(z.value.length,pe);if(0!==N){var U=this._blockStartPos(L)+N;if(e<=U)return U;break}}}return e}},{key:"maskedBlock",value:function(e){return this.maskedBlocks(e)[0]}},{key:"maskedBlocks",value:function(e){var t=this,n=this._maskedBlocks[e];return n?n.map(function(e){return t._blocks[e]}):[]}},{key:"state",get:function(){return ne({},le(ae(Pe.prototype),"state",this),{_blocks:this._blocks.map(function(e){return e.state})})},set:function(e){var n=e._blocks,t=ue(e,["_blocks"]);this._blocks.forEach(function(e,t){return e.state=n[t]}),ce(ae(Pe.prototype),"state",t,this,!0)}},{key:"isComplete",get:function(){return this._blocks.every(function(e){return e.isComplete})}},{key:"unmaskedValue",get:function(){return this._blocks.reduce(function(e,t){return e+t.unmaskedValue},"")},set:function(e){ce(ae(Pe.prototype),"unmaskedValue",e,this,!0)}},{key:"value",get:function(){return this._blocks.reduce(function(e,t){return e+t.value},"")},set:function(e){ce(ae(Pe.prototype),"value",e,this,!0)}}]),Pe);function Pe(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return J(this,Pe),e.definitions=te({},Be,e.definitions),se(this,ae(Pe).call(this,ne({},Pe.DEFAULTS,e)))}function Ve(e){J(this,Ve),this.chunks=e}function je(e){J(this,je),te(this,e),this._value=""}function Ie(e){J(this,Ie);var t=e.mask,n=ue(e,["mask"]);this.masked=we({mask:t}),te(this,n)}Me.DEFAULTS={lazy:!0,placeholderChar:"_"},Me.STOP_CHAR="`",Me.ESCAPE_CHAR="\\",Me.InputDefinition=De,Me.FixedDefinition=Te;var Oe=(re(ze,Me),X(ze,[{key:"_update",value:function(e){var t=String(e.to).length;null!=e.maxLength&&(t=Math.max(t,e.maxLength)),e.maxLength=t;for(var n=String(e.to).padStart(t,"0"),r=String(e.from).padStart(t,"0"),a=0;a<n.length&&n[a]===r[a];)++a;e.mask=n.slice(0,a).replace(/0/g,"\\0")+"0".repeat(t-a),le(ae(ze.prototype),"_update",this).call(this,e)}},{key:"doValidate",value:function(){var e,t=this.value,n="",r="",a=fe(t.match(/^(\D*)(\d*)(\D*)/)||[],3),i=a[1],u=a[2];if(u&&(n="0".repeat(i.length)+u,r="9".repeat(i.length)+u),-1===t.search(/[^0]/)&&t.length<=this._matchFrom)return!0;n=n.padEnd(this.maxLength,"0"),r=r.padEnd(this.maxLength,"9");for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return this.from<=Number(r)&&Number(n)<=this.to&&(e=le(ae(ze.prototype),"doValidate",this)).call.apply(e,[this].concat(o))}},{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"isComplete",get:function(){return le(ae(ze.prototype),"isComplete",this)&&Boolean(this.value)}}]),ze),Re=(re(Le,Me),X(Le,[{key:"_update",value:function(e){e.mask===Date&&delete e.mask,e.pattern&&(e.mask=e.pattern,delete e.pattern);var t=e.blocks;e.blocks=te({},Le.GET_DEFAULT_BLOCKS()),e.min&&(e.blocks.Y.from=e.min.getFullYear()),e.max&&(e.blocks.Y.to=e.max.getFullYear()),e.min&&e.max&&e.blocks.Y.from===e.blocks.Y.to&&(e.blocks.m.from=e.min.getMonth()+1,e.blocks.m.to=e.max.getMonth()+1,e.blocks.m.from===e.blocks.m.to&&(e.blocks.d.from=e.min.getDate(),e.blocks.d.to=e.max.getDate())),te(e.blocks,t),le(ae(Le.prototype),"_update",this).call(this,e)}},{key:"doValidate",value:function(){for(var e,t=this.date,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=le(ae(Le.prototype),"doValidate",this)).call.apply(e,[this].concat(r))&&(!this.isComplete||this.isDateExist(this.value)&&null!=t&&(null==this.min||this.min<=t)&&(null==this.max||t<=this.max))}},{key:"isDateExist",value:function(e){return this.format(this.parse(e))===e}},{key:"date",get:function(){return this.isComplete?this.parse(this.value):null},set:function(e){this.value=this.format(e)}},{key:"typedValue",get:function(){return this.date},set:function(e){this.date=e}}]),Le);function Le(e){return J(this,Le),se(this,ae(Le).call(this,ne({},Le.DEFAULTS,e)))}function ze(){return J(this,ze),se(this,ae(ze).apply(this,arguments))}Re.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(e){return[String(e.getDate()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),e.getFullYear()].join(".")},parse:function(e){var t=fe(e.split("."),3),n=t[0],r=t[1],a=t[2];return new Date(a,r-1,n)}},Re.GET_DEFAULT_BLOCKS=function(){return{d:{mask:Oe,from:1,to:31,maxLength:2},m:{mask:Oe,from:1,to:12,maxLength:2},Y:{mask:Oe,from:1900,to:9999}}};var Ne=(X(He,[{key:"select",value:function(e,t){if(null!=e&&null!=t&&(e!==this.selectionStart||t!==this.selectionEnd))try{this._unsafeSelect(e,t)}catch(e){}}},{key:"_unsafeSelect",value:function(e,t){}},{key:"bindEvents",value:function(e){}},{key:"unbindEvents",value:function(){}},{key:"selectionStart",get:function(){var e;try{e=this._unsafeSelectionStart}catch(e){}return null!=e?e:this.value.length}},{key:"selectionEnd",get:function(){var e;try{e=this._unsafeSelectionEnd}catch(e){}return null!=e?e:this.value.length}},{key:"isActive",get:function(){return!1}}]),He),Ue=(re(Ze,Ne),X(Ze,[{key:"_unsafeSelect",value:function(e,t){this.input.setSelectionRange(e,t)}},{key:"bindEvents",value:function(t){var n=this;Object.keys(t).forEach(function(e){return n._toggleEventHandler(Ze.EVENTS_MAP[e],t[e])})}},{key:"unbindEvents",value:function(){var t=this;Object.keys(this._handlers).forEach(function(e){return t._toggleEventHandler(e)})}},{key:"_toggleEventHandler",value:function(e,t){this._handlers[e]&&(this.input.removeEventListener(e,this._handlers[e]),delete this._handlers[e]),t&&(this.input.addEventListener(e,t),this._handlers[e]=t)}},{key:"isActive",get:function(){return this.input===document.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"value",get:function(){return this.input.value},set:function(e){this.input.value=e}}]),Ze);function Ze(e){var t;return J(this,Ze),(t=se(this,ae(Ze).call(this))).input=e,t._handlers={},t}function He(){J(this,He)}Ue.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"change"};var $e=(X(Ke,[{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this.alignCursorFriendly,focus:this.alignCursorFriendly,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el.unbindEvents()}},{key:"_fireEvent",value:function(e){var t=this._listeners[e];t&&t.forEach(function(e){return e()})}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value}},{key:"updateControl",value:function(){var e=this.masked.unmaskedValue,t=this.masked.value,n=this.unmaskedValue!==e||this.value!==t;this._unmaskedValue=e,this._value=t,this.el.value!==t&&(this.el.value=t),n&&this._fireChangeEvents()}},{key:"updateOptions",value:function(e){e=ne({},e),this.mask=e.mask,delete e.mask,function e(t,n){if(n===t)return!0;var r,a=Array.isArray(n),i=Array.isArray(t);if(a&&i){if(n.length!=t.length)return!1;for(r=0;r<n.length;r++)if(!e(n[r],t[r]))return!1;return!0}if(a!=i)return!1;if(n&&t&&"object"===K(n)&&"object"===K(t)){var u=n instanceof Date,s=t instanceof Date;if(u&&s)return n.getTime()==t.getTime();if(u!=s)return!1;var o=n instanceof RegExp,l=t instanceof RegExp;if(o&&l)return n.toString()==t.toString();if(o!=l)return!1;var h=Object.keys(n);for(r=0;r<h.length;r++)if(!Object.prototype.hasOwnProperty.call(t,h[r]))return!1;for(r=0;r<h.length;r++)if(!e(t[h[r]],n[h[r]]))return!1;return!0}return!1}(this.masked,e)||this.masked.updateOptions(e),this.updateControl()}},{key:"updateCursor",value:function(e){null!=e&&(this.cursorPos=e,this._delayUpdateCursor(e))}},{key:"_delayUpdateCursor",value:function(e){var t=this;this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(function(){t.el&&(t.cursorPos=t._changingCursorPos,t._abortUpdateCursor())},10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept"),this.masked.isComplete&&this._fireEvent("complete")}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.cursorPos,pe)}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}},{key:"off",value:function(e,t){if(this._listeners[e]){if(t){var n=this._listeners[e].indexOf(t);return 0<=n&&this._listeners[e].splice(n,1),this}delete this._listeners[e]}}},{key:"_onInput",value:function(){if(this._abortUpdateCursor(),!this._selection)return this.updateValue();var e=new ye(this.el.value,this.cursorPos,this.value,this._selection),t=this.masked.splice(e.startChangePos,e.removed.length,e.inserted,e.removeDirection).offset,n=this.masked.nearestInputPos(e.startChangePos+t,e.removeDirection);this.updateControl(),this.updateCursor(n)}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl()}},{key:"_onDrop",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}},{key:"mask",get:function(){return this.masked.mask},set:function(e){if(!(null==e||e===this.masked.mask||e===Date&&this.masked instanceof Re))if(this.masked.constructor!==Se(e)){var t=we({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}else this.masked.updateOptions({mask:e})}},{key:"value",get:function(){return this._value},set:function(e){this.masked.value=e,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(e){this.masked.unmaskedValue=e,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(e){this.masked.typedValue=e,this.updateControl(),this.alignCursor()}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(e){this.el.isActive&&(this.el.select(e,e),this._saveSelection())}}]),Ke),Ge=(re(We,Me),X(We,[{key:"_update",value:function(e){e.enum&&(e.mask="*".repeat(e.enum[0].length)),le(ae(We.prototype),"_update",this).call(this,e)}},{key:"doValidate",value:function(){for(var e,t=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.enum.some(function(e){return 0<=e.indexOf(t.unmaskedValue)})&&(e=le(ae(We.prototype),"doValidate",this)).call.apply(e,[this].concat(r))}}]),We),Ye=(re(qe,Ae),X(qe,[{key:"_update",value:function(e){le(ae(qe.prototype),"_update",this).call(this,e),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var e="",t="";this.allowNegative?(e+="([+|\\-]?|([+|\\-]?(0|([1-9]+\\d*))))",t+="[+|\\-]?"):e+="(0|([1-9]+\\d*))",t+="\\d*";var n=(this.scale?"("+ge(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp("^"+e+n),this._numberRegExp=new RegExp("^"+t+n),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(ge).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(ge(this.thousandsSeparator),"g")}},{key:"extractTail",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length,n=le(ae(qe.prototype),"extractTail",this).call(this,e,t);return ne({},n,{value:this._removeThousandsSeparators(n.value)})}},{key:"_removeThousandsSeparators",value:function(e){return e.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(e){var t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}},{key:"doPrepare",value:function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=le(ae(qe.prototype),"doPrepare",this)).call.apply(t,[this,this._removeThousandsSeparators(e.replace(this._mapToRadixRegExp,this.radix))].concat(r))}},{key:"_separatorsCount",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._value,t=this._removeThousandsSeparators(e).length,n=t,r=0;r<=n;++r)this._value[r]===this.thousandsSeparator&&++n;return n-t}},{key:"_appendCharRaw",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return le(ae(qe.prototype),"_appendCharRaw",this).call(this,e,t);var n=this._separatorsCount(t.tail&&this._beforeTailState?this._beforeTailState._value:this._value);this._value=this._removeThousandsSeparators(this.value);var r=le(ae(qe.prototype),"_appendCharRaw",this).call(this,e,t);this._value=this._insertThousandsSeparators(this._value);var a=this._separatorsCount(t.tail&&this._beforeTailState?this._beforeTailState._value:this._value);return r.tailShift+=a-n,r}},{key:"remove",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value.length,n=this.value.slice(0,e),r=this.value.slice(t),a=this._separatorsCount(n);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(n+r));var i=this._separatorsCount(n);return new be({tailShift:i-a})}},{key:"nearestInputPos",value:function(e,t){if(!t)return e;var n,r=(n=e,t===pe&&--n,n);return this.value[r]===this.thousandsSeparator&&(e=function(e){switch(t){case pe:return--e;case me:case _e:return++e;default:return e}}(e)),e}},{key:"doValidate",value:function(e){var t=(e.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));if(t){var n=this.number;t=t&&!isNaN(n)&&(null==this.min||0<=this.min||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)}return t&&le(ae(qe.prototype),"doValidate",this).call(this,e)}},{key:"doCommit",value:function(){var e=this.number,t=e;null!=this.min&&(t=Math.max(t,this.min)),null!=this.max&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=String(t));var n=this.value;this.normalizeZeros&&(n=this._normalizeZeros(n)),this.padFractionalZeros&&(n=this._padFractionalZeros(n)),this._value=this._insertThousandsSeparators(n),le(ae(qe.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(e){var t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,function(e,t,n,r){return t+r}),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),1<t.length&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}},{key:"_padFractionalZeros",value:function(e){if(!e)return e;var t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(e){ce(ae(qe.prototype),"unmaskedValue",e.replace(".",this.radix),this,!0)}},{key:"number",get:function(){return Number(this.unmaskedValue)},set:function(e){this.unmaskedValue=String(e)}},{key:"typedValue",get:function(){return this.number},set:function(e){this.number=e}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}}]),qe);function qe(e){return J(this,qe),se(this,ae(qe).call(this,ne({},qe.DEFAULTS,e)))}function We(){return J(this,We),se(this,ae(We).apply(this,arguments))}function Ke(e,t){J(this,Ke),this.el=e instanceof Ne?e:new Ue(e),this.masked=we(t),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}Ye.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1};var Je=(re(nt,Ae),X(nt,[{key:"_update",value:function(t){t.validate=function(e){return 0<=e.search(t.mask)},le(ae(nt.prototype),"_update",this).call(this,t)}}]),nt),Qe=(re(tt,Ae),X(tt,[{key:"_update",value:function(e){e.validate=e.mask,le(ae(tt.prototype),"_update",this).call(this,e)}}]),tt),Xe=(re(et,Ae),X(et,[{key:"_update",value:function(e){le(ae(et.prototype),"_update",this).call(this,e),this.compiledMasks=Array.isArray(e.mask)?e.mask.map(function(e){return we(e)}):[]}},{key:"_appendCharRaw",value:function(){var e,t=this._applyDispatch.apply(this,arguments);return this.currentMask&&t.aggregate((e=this.currentMask)._appendChar.apply(e,arguments)),t}},{key:"_storeBeforeTailState",value:function(){le(ae(et.prototype),"_storeBeforeTailState",this).call(this),this.currentMask&&this.currentMask._storeBeforeTailState()}},{key:"_restoreBeforeTailState",value:function(){le(ae(et.prototype),"_restoreBeforeTailState",this).call(this),this.currentMask&&this.currentMask._restoreBeforeTailState()}},{key:"_resetBeforeTailState",value:function(){le(ae(et.prototype),"_resetBeforeTailState",this).call(this),this.currentMask&&this.currentMask._resetBeforeTailState()}},{key:"_applyDispatch",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.tail&&this._beforeTailState?this._beforeTailState._value:this.value,r=this.rawInputValue,a=t.tail&&this._beforeTailState?this._beforeTailState._rawInputValue:r,i=r.slice(a.length),u=this.currentMask,s=new be;if(this.currentMask=this.doDispatch(e,t),this.currentMask&&this.currentMask!==u){this.currentMask.reset();var o=this.currentMask.append(a,{raw:!0});s.tailShift=o.inserted.length-n.length,this._storeBeforeTailState(),i&&(s.tailShift+=this.currentMask.append(i,{raw:!0,tail:!0}).tailShift)}return s}},{key:"doDispatch",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.dispatch(e,this,t)}},{key:"doValidate",value:function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=le(ae(et.prototype),"doValidate",this)).call.apply(e,[this].concat(r))&&(!this.currentMask||(t=this.currentMask).doValidate.apply(t,r))}},{key:"reset",value:function(){this.currentMask&&this.currentMask.reset(),this.compiledMasks.forEach(function(e){return e.reset()})}},{key:"remove",value:function(){var e,t=new be;return this.currentMask&&t.aggregate((e=this.currentMask).remove.apply(e,arguments)).aggregate(this._applyDispatch()),t}},{key:"extractInput",value:function(){var e;return this.currentMask?(e=this.currentMask).extractInput.apply(e,arguments):""}},{key:"extractTail",value:function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.currentMask?(e=this.currentMask).extractTail.apply(e,r):(t=le(ae(et.prototype),"extractTail",this)).call.apply(t,[this].concat(r))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),le(ae(et.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.currentMask?(e=this.currentMask).nearestInputPos.apply(e,r):(t=le(ae(et.prototype),"nearestInputPos",this)).call.apply(t,[this].concat(r))}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(e){ce(ae(et.prototype),"value",e,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(e){ce(ae(et.prototype),"unmaskedValue",e,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(e){var t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}},{key:"isComplete",get:function(){return!!this.currentMask&&this.currentMask.isComplete}},{key:"state",get:function(){return ne({},le(ae(et.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(function(e){return e.state}),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(e){var n=e.compiledMasks,t=e.currentMaskRef,r=e.currentMask,a=ue(e,["compiledMasks","currentMaskRef","currentMask"]);this.compiledMasks.forEach(function(e,t){return e.state=n[t]}),null!=t&&(this.currentMask=t,this.currentMask.state=r),ce(ae(et.prototype),"state",a,this,!0)}}]),et);function et(e){var t;return J(this,et),(t=se(this,ae(et).call(this,ne({},et.DEFAULTS,e)))).currentMask=null,t}function tt(){return J(this,tt),se(this,ae(tt).apply(this,arguments))}function nt(){return J(this,nt),se(this,ae(nt).apply(this,arguments))}function rt(e){return new $e(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}return Xe.DEFAULTS={dispatch:function(a,e,i){if(e.compiledMasks.length){var u=e.rawInputValue,t=e.compiledMasks.map(function(e,t){var n=e.state;e.rawInputValue=u,e.append(a,i);var r=e.rawInputValue.length;return e.state=n,{weight:r,index:t}});return t.sort(function(e,t){return t.weight-e.weight}),e.compiledMasks[t[0].index]}}},rt.InputMask=$e,rt.Masked=Ae,rt.MaskedPattern=Me,rt.MaskedEnum=Ge,rt.MaskedRange=Oe,rt.MaskedNumber=Ye,rt.MaskedDate=Re,rt.MaskedRegExp=Je,rt.MaskedFunction=Qe,rt.MaskedDynamic=Xe,rt.createMask=we,rt.MaskElement=Ne,rt.HTMLMaskElement=Ue,ke.IMask=rt});